(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7539],{93527:function(e,_,t){"use strict";var i,s=t(85893),n=t(11163),l=t(67294),a=t(9473),c=t(10615),o=t(11479),d=t.n(o),r=t(91784),u=t(56739),m=t(15273),p=t(42719),g=t(22146),h=t(61223),v=t(77186),x=t(66828),y=t(26111);!function(e){e[e.east=1]="east",e[e.west=2]="west"}(i||(i={}));_.Z=function(e){var _=e.isOpen,t=e.toggleIsOpen,o=e.qrCodes,b=e.selectedTicketId,k=(0,n.useRouter)(),f=(0,a.v9)((function(e){return e.messages})),w=(0,l.useContext)(u.T),j=(0,l.useState)(0),N=j[0],S=j[1],T=(0,l.useState)(0),D=T[0],C=T[1],L=(0,l.useState)(0),P=L[0],q=L[1],G=(0,l.useRef)(null),W=function(){t()},R=function(e,_,t){var i=(0,y.A0)(k.asPath,"/publish_qrcode/"),s="".concat(i,"?id=").concat(e,"&reserve_id=").concat(_,"&entrance_date=").concat(t);window.open(s,"_blank")},E=function(e){if(1===e.use_state)return(0,s.jsx)("div",{className:d().slide__stamp,children:(0,s.jsx)("div",{className:"ticket_stamp",style:{width:"".concat(Q,"px"),height:"".concat(Q,"px"),transform:"scale(".concat(50/Q,")")},"data-stamp-type":"visited",children:(0,s.jsx)(m.Z,{messageCode:"SW_GP_DL_148_0016"})})});var _=(0,h.J9)(new Date((0,h.$0)())),t=h.NT.date.custom("YYYYMMDD",_);return e.entrance_date===t?(0,s.jsx)("div",{className:d().slide__stamp,children:(0,s.jsx)("div",{className:"ticket_stamp",style:{width:"".concat(X,"px"),height:"".concat(X,"px"),transform:"scale(".concat(50/X,")")},"data-stamp-type":"today",children:(0,s.jsx)(m.Z,{messageCode:"SW_GP_DL_148_0015"})})}):void 0},Z=function(e,_){var t=(0,y.mA)(window.location.pathname);return["en","fr"].includes(t)?(0,s.jsxs)(s.Fragment,{children:[M(e),I(e,_)]}):(0,s.jsxs)(s.Fragment,{children:[I(e,_),M(e)]})},I=function(e,_){return(0,s.jsx)("span",{className:d().slide__schedule_wrapper__large,children:(0,p.xS)({year:!1,time:!1,day:!1}).local(h.d4.local(e))})},M=function(e){return(0,s.jsxs)("span",{className:d().slide__schedule_wrapper__small,children:[(0,p.A$)().local(h.d4.local(e))," "]})},A=function(e){switch(e){case i.east:return"SW_GP_DL_148_0008";case i.west:return"SW_GP_DL_148_0009";default:return""}};(0,l.useEffect)((function(){if(b){var e=o.findIndex((function(e){return e.ticket_id===b}));-1!==e&&S(e)}}),[b,o]);var O=function(){var e,_,t,i,s=null===(e=document.getElementById("qr_code_modal_title"))||void 0===e?void 0:e.parentNode,n=null===s||void 0===s?void 0:s.querySelector('[data-slide-index="'.concat(N,'"]')),l=null===n||void 0===n?void 0:n.querySelector("[data-pad-head]"),a=null===n||void 0===n?void 0:n.querySelector("[data-pad-foot]"),c=null!==(_=null===s||void 0===s?void 0:s.getBoundingClientRect().top)&&void 0!==_?_:0,o=null!==(t=null===l||void 0===l?void 0:l.getBoundingClientRect().top)&&void 0!==t?t:0,d=null!==(i=null===a||void 0===a?void 0:a.getBoundingClientRect().bottom)&&void 0!==i?i:0;C(o-c),q(d-o)};(0,l.useEffect)((function(){O()}),[N]),(0,l.useEffect)((function(){var e=new ResizeObserver(O),t=function(){!G.current&&window.setTimeout(t,99),G.current&&e.observe(document.documentElement)};return _&&t(),function(){e.disconnect()}}),[_]);var Y=(0,l.useState)(1),X=Y[0],F=Y[1],H=(0,l.useState)(1),Q=H[0],B=H[1];return(0,l.useEffect)((function(){var e={today:(0,v.G)(f,"SW_GP_DL_148_0015"),visited:(0,v.G)(f,"SW_GP_DL_148_0016")},_=function(e){var _=document.createElement("div");_.className="ticket_stamp prototype",_.innerHTML=e,document.body.appendChild(_);for(var t=50,i=999,s=null,n=50;t<333&&(_.style.width="".concat(t,"px"),i=Math.max(_.clientWidth,_.clientHeight)/(Math.min(_.clientWidth,_.clientHeight)||.001),(null===s||s>i)&&(n=t,s=i),1!==i);)t+=1;return document.body.removeChild(_),n};F(_(e.today)),B(_(e.visited))}),[]),(0,s.jsx)(r.Z,{isOpen:_,toggle:function(){return W()},customContent:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",width:"335px",maxWidth:"calc(100dvw - 24px)",height:"auto",maxHeight:"calc(100dvh - 24px)",borderRadius:"20px",transform:"translate(-50%, -50%)",padding:"0"},nonePadding:!0,hideScrollbar:!1,closeIconSrc:"/asset/img/qr_modal_close.png",ariaLabelledby:"qr_code_modal_title",children:(0,s.jsxs)("div",{ref:G,children:[(0,s.jsx)("h2",{className:d().header,id:"qr_code_modal_title",children:(0,s.jsx)(m.Z,{messageCode:"SW_GP_DL_148_0002"})}),(0,s.jsx)(c.lr,{className:d().carousel,swipeable:!0,emulateTouch:!0,interval:889999999999,showThumbs:!1,centerMode:!0,centerSlidePercentage:100,swipeScrollTolerance:1,showStatus:!1,selectedItem:N,onChange:function(e){S(e)},renderIndicator:function(e,_,t){return(0,s.jsx)(s.Fragment,{})},renderArrowPrev:function(e,_,t){return _&&(0,s.jsx)("a",{className:d().carousel__prev,onClick:e,onKeyUp:function(_){return(0,g.x)(_,e)},tabIndex:w.focusability.footer?0:-1,children:(0,s.jsx)("img",{src:"/asset/img/qr_modal_arrow_left.png",alt:(0,v.G)(f,"SW_GP_DL_148_0003")})})},renderArrowNext:function(e,_,t){return _&&(0,s.jsx)("a",{className:d().carousel__next,onClick:e,onKeyUp:function(_){return(0,g.x)(_,e)},tabIndex:w.focusability.footer?0:-1,children:(0,s.jsx)("img",{src:"/asset/img/qr_modal_arrow_right.png",alt:(0,v.G)(f,"SW_GP_DL_148_0004")})})},children:o.map((function(e,_){return(0,s.jsxs)("div",{className:d().slide,"data-slide-index":_,children:[(0,s.jsx)("div",{className:d().slide__ticket_number,children:"".concat(_+1,"/").concat(o.length)}),(0,s.jsx)("div",{className:d().slide__ticket_kind,children:e.item_name}),(0,s.jsx)("div",{className:d().slide__age,children:e.item_summary}),(0,s.jsx)("div",{className:d().slide__wrap_ticket,children:(0,s.jsx)("div",{className:d().slide__wrap_qr_code,children:(0,s.jsx)("div",{className:d().slide__qr_code,children:(0,s.jsx)("img",{src:"data:image/png;base64,".concat(e.ticket_qr_binary),alt:(0,v.G)(f,"SW_GP_DL_148_0014")})})})}),(0,s.jsxs)("div",{className:d().slide__ticket_id,"data-pad-head":!0,children:[(0,s.jsx)(m.Z,{messageCode:"SW_GP_DL_148_0005"}),"\uff1a",e.ticket_id]}),(0,s.jsxs)("div",{className:d().slide__badges,children:[(1===e.visiting_items[0].group_ticket_qr_divi||2===e.visiting_items[0].group_ticket_qr_divi)&&(0,s.jsx)("div",{className:d().slide__badges__group_badge,children:(0,s.jsx)(m.Z,{messageCode:"SW_GP_DL_148_0012"})}),(0,s.jsx)("div",{className:d().slide__badges__reserve_badge,children:0!==e.visiting_items[0].event_items.length?(0,s.jsx)(m.Z,{messageCode:"SW_GP_DL_148_0006"}):(0,s.jsx)(m.Z,{messageCode:"SW_GP_DL_148_0007"})})]}),(0,s.jsxs)("div",{className:d().slide__schedule_wrapper,children:[E(e.visiting_items[0]),(0,s.jsx)("div",{className:d().slide__schedule_wrapper__row,children:Z(e.visiting_items[0].entrance_date,e.visiting_items[0].start_time)}),(0,s.jsx)("div",{className:d().slide__schedule_wrapper__row,children:(0,s.jsx)("div",{className:d().slide__schedule_wrapper__large,children:e.visiting_items[0].schedule_name})}),(0,s.jsx)("div",{className:d().slide__schedule_wrapper__row,children:(0,s.jsx)("div",{className:d().slide__schedule_wrapper__gate,children:(0,s.jsx)(m.Z,{messageCode:A(e.visiting_items[0].gate_type),symbolicDecoration:"square_brackets"})})})]}),(0,s.jsx)("div",{className:d().slide__ticket_wrapper,"data-pad-foot":!0,children:(0,s.jsx)("figure",{children:(0,s.jsx)("img",{src:"".concat(window.location.origin).concat(e.image_large_path),alt:e.item_name})})})]},_)}))}),(0,s.jsx)("div",{className:d().detail,children:(0,s.jsx)("button",{className:d().detail__button,onClick:function(){return function(e,_,t){var i=(0,y.A0)(k.asPath,"/myticket_detail/"),s=_?"&reserve_id=".concat(t):"",n="".concat(window.location.origin).concat(i,"?id=").concat(e).concat(s);window.open(n,"_blank")}(o[N].ticket_id,x.N.isPassTicket(o[N].ticket_type_id),o[N].visiting_items[0].user_visiting_reservation_id)},tabIndex:w.focusability.main?0:-1,children:(0,s.jsx)(m.Z,{messageCode:"SW_GP_DL_148_0010"})})}),(0,s.jsxs)("div",{className:d().actions,children:[(0,s.jsx)("div",{className:d().actions__close,children:(0,s.jsx)("a",{role:"button",className:d().actions__close__button,onClick:W,onKeyUp:function(e){return(0,g.x)(e,W)},tabIndex:w.focusability.main?0:-1,children:(0,s.jsx)(m.Z,{messageCode:"SW_GP_DL_148_0013"})})}),(0,s.jsx)("div",{className:d().actions__print,children:(0,s.jsx)("button",{className:d().actions__print__button,onClick:function(){return R(o[N].ticket_id,o[N].visiting_items[0].user_visiting_reservation_id,o[N].visiting_items[0].entrance_date)},onKeyUp:function(e){return(0,g.x)(e,(function(){return R(o[N].ticket_id,o[N].visiting_items[0].user_visiting_reservation_id,o[N].visiting_items[0].entrance_date)}))},tabIndex:w.focusability.main?0:-1,children:(0,s.jsx)(m.Z,{messageCode:"SW_GP_DL_148_0011"})})})]}),(0,s.jsx)("div",{className:d().scroll_handling_pad,style:{top:"".concat(D,"px"),height:"".concat(P,"px")}})]})})}},9563:function(e,_,t){"use strict";t.d(_,{j:function(){return i}});var i={FAST_LOTTERY:1,MONTH_LOTTERY:2,DAY_LOTTERY:3,EMPTY_FRAME:4,ON_THE_DAY:5}},36355:function(e,_,t){"use strict";t.d(_,{n:function(){return i}});var i={top:"004",myTicketList:"018",myticket:"019",userVisitingReservation:"101",reservationInformation:"107",ticketSelection:"108",eventSearch:"113",eventTime:"114",ticketVisitingReservation:"117",passport:"132"}},11479:function(e){e.exports={main_contents:"style_main_contents__yXp2S",content_block:"style_content_block__NWwrA",common_text:"style_common_text__TlIqq",common_text_border_and_icon:"style_common_text_border_and_icon__LY_TR",common_text_border:"style_common_text_border__O2Flf",link_main_title:"style_link_main_title__TXaJc",link_big_title:"style_link_big_title__6hZR0",link_little_title:"style_link_little_title__PjMXz",border_line:"style_border_line__TzYX5",link_text:"style_link_text__tL502",text_with_caution:"style_text_with_caution___M_tX",caution_mark:"style_caution_mark__xZSUj",link_a_wrapper:"style_link_a_wrapper__oVabj",link_big_button:"style_link_big_button__00uhA",link_buttons:"style_link_buttons__lVQT9",link_little_button:"style_link_little_button__M6zFG",link_little_button_disabled:"style_link_little_button_disabled__1egbM",link_little_button_black:"style_link_little_button_black__GcSRM",link_icon:"style_link_icon__XStLv",link_icon_before:"style_link_icon_before__etP7J",caution_text:"style_caution_text__76BRX",invoice_note:"style_invoice_note__QTxEk",invoice_notation:"style_invoice_notation___XKrJ",invoice_notation__incorporated:"style_invoice_notation__incorporated__gBD15",invoice_notation__registration:"style_invoice_notation__registration__CkZVU",invoice_notation__term:"style_invoice_notation__term__sRN8a",bg:"style_bg__EC_Q8",header:"style_header__ziNED",carousel:"style_carousel__qjVlQ",carousel__prev:"style_carousel__prev__IGQoO",carousel__next:"style_carousel__next__aThZZ",slide:"style_slide__Iw05R",slide__ticket_number:"style_slide__ticket_number__Pn3XP",slide__ticket_kind:"style_slide__ticket_kind__D69s1",slide__wrap_ticket:"style_slide__wrap_ticket__3oi2V",slide__age:"style_slide__age__l9H4s",slide__ticket:"style_slide__ticket__H8MeQ",slide__qr_code:"style_slide__qr_code__0u9k8",slide__publish_button:"style_slide__publish_button__hNSqq",slide__ticket_id:"style_slide__ticket_id__Nc5S_",slide__badges:"style_slide__badges__PeUuo",slide__badges__group_badge:"style_slide__badges__group_badge__qtDTw",slide__badges__reserve_badge:"style_slide__badges__reserve_badge__FwSAX",slide__schedule_wrapper:"style_slide__schedule_wrapper__EjR4c",slide__schedule_wrapper__icon:"style_slide__schedule_wrapper__icon__cp2Q8",slide__schedule_wrapper__row:"style_slide__schedule_wrapper__row__HHlpj",slide__schedule_wrapper__large:"style_slide__schedule_wrapper__large__eDtBD",slide__schedule_wrapper__small:"style_slide__schedule_wrapper__small__EycFw",slide__schedule_wrapper__gate:"style_slide__schedule_wrapper__gate__O921p",slide__ticket_wrapper:"style_slide__ticket_wrapper__s7Stx",slide__entrance_date:"style_slide__entrance_date__dTLQF",slide__ticket_detail_link:"style_slide__ticket_detail_link__6Y3Lo",slide__close_button:"style_slide__close_button__NyjcM",slide__stamp:"style_slide__stamp__Qsbv_",detail:"style_detail__40q52",detail__button:"style_detail__button__lXnyA",actions:"style_actions__cDHgw",actions__close:"style_actions__close__WmT4j",actions__print:"style_actions__print__uw3bO",actions__close__button:"style_actions__close__button__ZsLtX",actions__print__button:"style_actions__print__button__23Au_",scroll_handling_pad:"style_scroll_handling_pad__pFN2o"}}}]);